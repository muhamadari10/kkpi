<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <title> Documentation Kppip</title>

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Dokumentasi Teknis</h1>
                            <p class="lead"> APLIKASI SISTEM PEMANTAUAN PROYEK STRATEGIS NASIONAL BERBASIS OPEN SOURCE KPPIP
                                </p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">Pendahuluan</a></li>
                            <li><a href="#line2">Cara Instalasi</a></li>
                            <li><a href="#line7">Konsep MVC</a>
                                <ul class="nav">
                                    <li><a href="#line7_1">Controller</a></li>
                                    <li><a href="#line7_2">Model</a></li>
                                    <li><a href="#line7_3">View</a></li>
                                    <li><a href="#line7_4">JavaScript</a></li>
                                    <li><a href="#line7_5">Struktur Database</a></li>
                                   
                                </ul>
                            </li>
                           
                            
                            <li><a href="#line11">Copyright and license</a></li>
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                        <section id="line1" class="section">

                                <div class="row">
                                    <div class="col-md-12 left-align">
                                        <h2 class="dark-text">Pendahuluan <a href="#top">#back to top</a><hr></h2>
                                
                                <div class="row">

                                    <div class="col-md-12 full">
                                       

                                        <hr>
                                        <div>
                                            <p>Pertama, Terimakasih telah menggunakan sistem ini. Dokumentasi ini akan membantu anda untuk melihat konsep MVC (Model View Controller) pada sistem ini.
                                                Dokumentasi ini hanya ditujukan pada <i>Progammer Codeigniter Berpengalaman</i>, mempunyai pengalaman dengan Framework Codeigniter dan Laravel akan lebih baik. Terdapat beberapa konsep yang menggunakan cara dari Framework Laravel juga diadopsi dalam sistem ini misalkan "Eloquent", untuk itu disarankan anda sudah familiar dengan Framework Codeigniter dan Laravel. Tidak seperti Codeigniter biasa yang meletakkan controler pada folder application->controllers, dalam aplikasi ini controller berada pada folder module.
                                                Hal ini juga berlaku pada model dan view. Didalam folder application->modules, model view dan controler diletakkan pada folder tiap menu. Pembangunan aplikasi ini menggunakan paradigma "Object Oriented". 
                                
                                               
                                            </p>

                                           
                                            <h4>Requirements</h4>
                                            <p>Dalam pembangunan sistem ini dibutuhkan beberapa tools pendukung diantaranya :</p>
                                            <ol>
                                                <li>Code Editing Software (contoh: Dreamweaver, Sublime Text atau Notepad)</li>
                                                <li>Web Browser untuk testing (contoh: Google Chrome atau Mozilla Firefox)</li>
                                                <li>FTP Tool untuk upload file ke Server (contoh: <a href="https://filezilla-project.org/download.php?type=client" target="_blank">FileZilla</a>) </li>
                                            </ol>
                                            <p>
                                                Sistem ini membutuhkan environments untuk dapat berfungsi pada server membutuhkan:
                                                <ol>
                                                    <li>Server membutuhkan Apache dengan PHP version minimal 5.6</li>
                                                    <li>Operating System dengan Linux</li>
                                                </ol>

                                            </p>
                                            

                                        </div>
                                    </div>

                                </div>
                                <!-- end row -->
                            

                    

                        <div class="row">
                            <div class="col-md-12">
                                <p>Sistem ini juga dibangun menggunakan Javascript. JavaScript digunakan pada Grafik, Form dan beberapa tabel.
                                    Seperti dibawah ini pemanggilan JavaScript dan CSS dipanggil di base url.
                                </p>

                                <h4>Base URL pada application->config->config.php</h4>

                                <pre class="brush: html; highlight: [2,4]">
                            <?php defined('BASEPATH') OR exit('No direct script access allowed');
                                 
                                    
                                    $config['base_url']	= 'http://localhost/kppip';
                                    $config['js_url']	= 'http://localhost/kppip/assets/js/';
                                    $config['css_url']	= 'http://localhost/kppip/assets/css/';
                                    
                                </php></pre>


                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Cara Instalasi <a href="#top">#back to top</a><hr></h2>
                            </div>
                            <p>
                                <H4>Langkah langkah untuk instalasi sistem</H4>
                                <ol>
                                    <li> Pastikan Server Linux sudah teristall webserver (apache atau ngix). *Rekomendasi menggunakan apache.</li>
                                    <li> Persiapkan Database. Didalam folder root project ini sudah tersedia database dlm bentuk .sql namun hanya struktur saja. jika membutuhkan isi data dapat mengekspor dari phpmyadmin->pilih tabel-> operation->export (sql)</li>
                                    <li> Pastikan Database name sudah sesuai dengan nama tabel yang dituju. Seperti pengaturan file database dibawah ini, dapat dilihat di application->config->database.php</li>
                                    <pre class="brush: html">
                                            $db['default'] = array(
                                                // ----- local ----- //
                                                'dsn'	=> '',
                                                'hostname' => 'localhost',
                                                'username' => 'root',
                                                'password' => '',
                                                'database' => 'kppip',
                                                'dbdriver' => 'mysqli',
                                                'dbprefix' => '',
                                                'pconnect' => FALSE,
                                                'db_debug' => (ENVIRONMENT !== 'production'),
                                                'cache_on' => FALSE,
                                                'cachedir' => '',
                                                'char_set' => 'utf8',
                                                'dbcollat' => 'utf8_general_ci',
                                                'swap_pre' => '',
                                                'encrypt' => FALSE,
                                                'compress' => FALSE,
                                                'stricton' => FALSE,
                                                'failover' => array(),
                                                'save_queries' => TRUE
                                            );
                                    </pre>
                                    <li>
                                        Pastikan "AutoLoad" pada application->config->autoload.php sudah tersetting seperti dibawah ini
                                    </li>
                                    <pre class="brush: html">
                                            $autoload['libraries'] = array('database','session', 'form_validation');
                                    </pre>
                                    <pre class="brush: html">
                                            $autoload['helper'] = array('url', 'form','MY');
                                    </pre>
                                    
                                </ol>
                            </p>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                        
                         
                                     



                                    


                        

                        <hr>

                        <h4>Upload via FileZilla </h4>

                        <p>Dalam </p>

                        <a ></a>
                        <hr>
                        <div class="row">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="media">
                               </div>
                            </div>

                        </div>

                    </section>
                    <!-- end section -->

                    <section id="line7" class="section">
                        

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text"><a href="#top">#back to top</a><hr></h2>
                                <p>MVC (Model-View-Controller) adalah sebuah metode dalam membuat aplikasi dengan memisahkan pengembangan aplikasi berdasarkan komponen utama yang membangun sebuah aplikasi seperti manipulasi data, antarmuka pengguna, dan bagian yang menjadi kontrol utama aplikasi.
                                    <br>

                        Model, bukan sebuah database tetapi merupakan bagian (fungsi-fungsi) yang berhubungan langsung dengan database untuk memanipulasi data seperti memasukkan data, pembaruan data, hapus data, dan lain-lain, namun tidak dapat berhubungan langsung dengan bagian 
                        <br>

                        View, merupakan bagian yang mengatur tampilan ke pengguna. Pada suatu aplikasi web bagian ini biasanya berupa file template HTML, yang diatur oleh controller. View berfungsi untuk menerima dan merepresentasikan data kepada pengguna. Bagian ini tidak memiliki akses langsung terhadap bagian model.
                        <br>

                        Controller, merupakan bagian yang mengatur hubungan antara bagian model dan bagian view, controller berfungsi untuk menerima request dan data dari user kemudian menentukan apa yang akan diproses oleh aplikasi.</p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-4">
                                <a></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_1"> Contoh Controller Dari Menu Isu - <a href="#top">#back to top</a></h4>
                                
                                <pre class="brush: html">
                                        class Dashboard extends Private_Controller {

                                            public function __construct()
                                            {
                                                parent::__construct();
                                            }
                                            <p> Controller di ambil dari folder</p>
                                            <p> Application -> Modules -> Project -> Controller ->issue.php  </p>
                         </pre>

                             

                                <pre class="brush: html">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">

                                         

                                       <P> 
                                            public function grid($grid)
                                            {
                                                $this->load->model("Project_model");
                                                echo json_encode($this->Project_model->call_method($grid,"grid"));
                                            }

                                            public function ajax($action)
                                            {
                                                $this->load->model("Project_model");
                                                echo json_encode($this->Project_model->call_method($action,"action"));
                                            }

                                        }
                                    </P>
                                    <p> Controller di ambil dari folder 
                                        Application - > modules -> project -> project.php
                                        controller yang di ambil ini adalah controller yang digunakan dari menu projek </p>
                                        <p> untuk pengeditan di dalam controller dimasukkan di dalam folder sesuai dengan kebutuhan yang diperlukan, jadi setiap menu memiliki folder sendiri setiap menunya </p>
                                                                                                            </div>
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                        
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                        
                                    </div>
                                </div>
                            </div>
                         </pre>
                         <section id="line2" class="section">

                         
                            <pre class="brush: html">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">

                                        


                                         

                                       
                                                                                                          
                                                                                                            </div></p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a ></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_2"> Contoh Model Dari Menu Isu  <a href="#top">#back to top</a></h4>
                                
                            <pre class="brush: html">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">

                                         <p>
                                                                                    
                                                <?php

                                                /*
                                                 *  Author : Jivanly Vrincent
                                                 *  Created :  05.02.2018
                                                */

                                                defined("BASEPATH") OR exit("No direct script access allowed");

                                                // ------------------ Eloquent Model -------------------- //
                                                use \Illuminate\Database\Eloquent\Model as Eloquent;

                                                use ProjectMst as ProjectMst;
                                                use PjpMst as PjpMst;
                                                use IssueMst as IssueMst;
                                                use ProvinceMst as ProvinceMst;
                                                use SeverityLevelMst as SeverityLevelMst;
                                                use FrequencyLevelMst as FrequencyLevelMst;
                                                use IssueTypeMst as IssueTypeMst;

                                                use Navij\Libraries\Template as Template;


                                                class Issue_model extends Eloquent{

                                                    public function __construct() {
                                                        parent::__construct();

                                                        $this->template = new Template();

                                                    }

                                                    protected $data     = array();
                                                    protected $return   = array();
                                                    protected $res      = array("status" => false, "message" => "Error");

                                                    
                                                    public function call_method($method,$type){

                                                        $this->$method();

                                                        return $this->res;
                                                    }

                                                    private function issue_list(){

                                                        $columns = $_GET['columns'];
                                                        $search = $_GET['search']['value'];

                                                        if ( isset($_GET['extra_search']) ) {

                                                            $exsearch = $_GET['extra_search'];
                                                        
                                                            if ( $exsearch['projectFt'] != '' ) {
                                                                $oprt_project = '=';
                                                            } else {
                                                                $oprt_project = '<>';
                                                            }

                                                            if ( $exsearch['phaseFt'] != '' ) {
                                                                $oprt_phase = '=';
                                                            } else {
                                                                $oprt_phase = '<>';
                                                            }

                                                            if ( $exsearch['activityFt'] != '' ) {
                                                                $oprt_activity = '=';
                                                            } else {
                                                                $oprt_activity = '<>';
                                                            }

                                                            if ( $exsearch['stakeholderFt'] != '' ) {
                                                                $oprt_stakeholder = 'like';
                                                            } else {
                                                                $oprt_stakeholder = '<>';
                                                            }
                                                            
                                                            
                                                            $where_has = function($ds) use($oprt_activity, $oprt_stakeholder, $oprt_phase, $oprt_project, $exsearch) {

                                                                $ds->where('project_mst_id', $oprt_project, $exsearch['projectFt'])
                                                                ->where('phase_id', $oprt_phase, $exsearch['phaseFt'])
                                                                ->where('activity_id', $oprt_activity, $exsearch['activityFt'])
                                                                ->where('stakeholder', $oprt_stakeholder, '%' . $exsearch['stakeholderFt'] . '%' );
                                                                
                                                            };


                                                        } else {
                                                            
                                                            $where_has = function () {};

                                                        }

                                                        $q_data = IssueMst::with(['project_mst', 'issue_type', 'project_mst.province', 'severity_level', 'frequency_level', 'activity', 'phase'])->where($where_has);
                                                        $val = $_GET['search']['value'];


                                                        
                                                        if(!empty($val))
                                                            $q_data->where(function($ds) use($columns,$search){
                                                                foreach ($columns as $i => $v) {
                                                                    if(!empty($v['data']) 
                                                                        && $v['searchable']=='true' 
                                                                        && $v['data'] != 'action'
                                                                        && $v['data'] != 'stakeholder_name'
                                                                        ) {

                                                                            if ( $v['data'] == 'project_name' ) {
                                                                                
                                                                                $ds->whereHas('project_mst', function($q) use($v, $search){
                                                                                    $q->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'severity_level_name' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere('severity_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'level' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'severity_level_issue' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere('severity_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'frequency_level_name' ) {
                                                                                
                                                                                $ds->whereHas('frequency_level', function($q) use($v, $search){
                                                                                    $q->orWhere('frequency_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'issue_type_name' ) {
                                                                                
                                                                                $ds->whereHas('issue_type', function($q) use($v, $search){
                                                                                    $q->orWhere('issue_type_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else {
                                                                                
                                                                                $ds->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                            
                                                                            }
                                                                            
                                                                        }

                                                                }
                                                            });

                                                        $data_in = $q_data->take($_GET['length'])->offset($_GET['start'])->get();

                                                        foreach ($data_in as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['issue_description'] = $value->issue_description;
                                                            $this->data[$key]['project_mst_id'] = $value->project_mst_id;
                                                            $this->data[$key]['project_name'] = $value->project_mst->project_name;
                                                            $this->data[$key]['external_code'] = $value->project_mst->external_code;

                                                            $get_pjp = PjpMst::select('*')->whereIn('id', json_decode($value->stakeholder))->get();
                                                            
                                                            $pjp_temp = '';
                                                            $pjp_temp_array = '';

                                                            foreach ($get_pjp as $key_pjp => $value_pjp) {
                                                                
                                                                $pjp_temp .= '- ' . $value_pjp->pjp_name . '<br />';
                                                                $pjp_temp_array[$key_pjp]['id'] = $value_pjp->id;
                                                                $pjp_temp_array[$key_pjp]['name'] = $value_pjp->pjp_name;
                                                                
                                                            }

                                                            $this->data[$key]['stakeholder_name'] = nl2br($pjp_temp);
                                                            $this->data[$key]['stakeholder_array'] = $pjp_temp_array;

                                                            $this->data[$key]['impact_duration'] = $value->impact_duration;
                                                            $this->data[$key]['level'] = $value->severity_level->level;
                                                            $this->data[$key]['phase_id'] = $value->phase_id;
                                                            $this->data[$key]['phase_name'] = $value->phase->phase_name;
                                                            $this->data[$key]['activity_id'] = $value->activity_id;
                                                            $this->data[$key]['activity_name'] = $value->activity->activity_name;
                                                            $this->data[$key]['severity_level_id'] = $value->severity_level_id;
                                                            $this->data[$key]['severity_level_name'] = $value->severity_level->severity_level_name;
                                                            $this->data[$key]['severity_level_issue'] = nl2br('Level ' . $value->severity_level->level . '<br/>' . $value->severity_level->severity_level_name);
                                                            $this->data[$key]['frequency_level_id'] = $value->frequency_level_id;
                                                            $this->data[$key]['frequency_level_name'] = $value->frequency_level->frequency_level_name;
                                                            $this->data[$key]['case_issue_date'] = date('m/d/Y', strtotime($value->case_issue_date));
                                                            $this->data[$key]['planning_solve_issue_date'] = date('m/d/Y', strtotime($value->planning_solve_issue_date));
                                                            $this->data[$key]['province_id'] = $value->project_mst->province_id;
                                                            $this->data[$key]['province_name'] = $value->project_mst->province->province_name;
                                                            $this->data[$key]['issue_type_id'] = $value->issue_type_id;
                                                            $this->data[$key]['issue_type_name'] = $value->issue_type->issue_type_name;
                                                            $this->data[$key]['action'] = '<div class="btn-group">
                                                                <button type="button" data-toggle="tooltip" title="Edit" class="btn btn-warning btn-flat update-row"><i class="fa fa-edit"></i></button>
                                                                <button type="button" data-toggle="tooltip" title="Hapus" class="btn btn-danger btn-flat delete-row"><i class="fa fa-trash"></i></button>
                                                            </div>';
                                                            

                                                        }

                                                        // dd($data_in);

                                                        $val   = $_GET['search']['value'];
                                                        if(!empty($val))
                                                            $count = IssueMst::with(['project_mst', 'issue_type', 'project_mst.province', 'severity_level', 'frequency_level', 'activity', 'phase'])
                                                            ->where($where_has)
                                                            ->where(function($ds) use($columns,$search){
                                                                foreach ($columns as $i => $v) {
                                                                    if(!empty($v['data']) 
                                                                        && $v['searchable']=='true'
                                                                        && $v['data'] != 'action'
                                                                        && $v['data'] != 'stakeholder_name'
                                                                        ) {

                                                                            if ( $v['data'] == 'project_name' ) {
                                                                                
                                                                                $ds->whereHas('project_mst', function($q) use($v, $search){
                                                                                    $q->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'severity_level_name' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere('severity_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'level' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'severity_level_issue' ) {
                                                                                
                                                                                $ds->whereHas('severity_level', function($q) use($v, $search){
                                                                                    $q->orWhere('severity_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'frequency_level_name' ) {
                                                                                
                                                                                $ds->whereHas('frequency_level', function($q) use($v, $search){
                                                                                    $q->orWhere('frequency_level_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else if ( $v['data'] == 'issue_type_name' ) {
                                                                                
                                                                                $ds->whereHas('issue_type', function($q) use($v, $search){
                                                                                    $q->orWhere('issue_type_name', 'LIKE', '%'.$search.'%');
                                                                                });

                                                                            } else {
                                                                                
                                                                                $ds->orWhere($v['data'], 'LIKE', '%'.$search.'%');
                                                                            
                                                                            }
                                                                            
                                                                        }

                                                                }
                                                            });

                                                        $this->res = array(
                                                            'recordsTotal' => isset($count)?$count->count():intval(
                                                                IssueMst::with(['project_mst', 'issue_type', 'project_mst.province', 'severity_level', 'frequency_level', 'activity', 'phase'])->where($where_has)->count()
                                                            ),
                                                            'recordsFiltered' => isset($count)?$count->count():intval(
                                                                IssueMst::with(['project_mst', 'issue_type', 'project_mst.province', 'severity_level', 'frequency_level', 'activity', 'phase'])->where($where_has)->count()
                                                            ),
                                                            'data' => $this->data
                                                        );

                                                        return $this->res;
                                                    }

                                                    private function create_issue()
                                                    {
                                                        
                                                        

                                                        try {

                                                            

                                                                $issue_store = new IssueMst();
                                                                $issue_store->project_mst_id = $_POST['projectOpt'];
                                                                $issue_store->issue_description = $_POST['issueDescription'];
                                                                $issue_store->impact_duration = $_POST['impactDuration'];
                                                                $issue_store->severity_level_id = $_POST['severityLevelOpt'];
                                                                $issue_store->frequency_level_id = $_POST['frequencyLevelOpt'];
                                                                $issue_store->activity_id = $_POST['activityOpt'];
                                                                $issue_store->phase_id = $_POST['phaseOpt'];
                                                                $issue_store->issue_type_id = $_POST['issueTypeOpt'];
                                                                $issue_store->stakeholder = json_encode($_POST['stakeholderOpt']);
                                                                $issue_store->planning_solve_issue_date = date('Y-m-d', strtotime($_POST['planningSolveIssueDate']));
                                                                $issue_store->case_issue_date = date('Y-m-d', strtotime($_POST['caseIssueDate']));
                                                                
                                                                if ($issue_store->save()) {
                                                                    
                                                                    $this->res = array(
                                                                        'status' => 200,
                                                                        'message' => 'Data berhasil disimpan.',
                                                                        'data' => $this->data
                                                                    );
                                                                    
                                                                } else {
                                                                    
                                                                    $this->res = array(
                                                                        'status' => 404,
                                                                        'message' => 'Data gagal disimpan.',
                                                                        'data' => $this->data
                                                                    );
                                                    
                                                                }

                                                            
                                                            
                                                        } catch (Exception $e) {
                                                            
                                                            $this->res = array(
                                                                'status' => 500,
                                                                'message' => $e->getMessage()
                                                            );

                                                        }

                                                        return $this->res;

                                                    }

                                                    private function update_issue()
                                                    {
                                                        
                                                        
                                                        try {

                                                             

                                                                $issue_store = IssueMst::find($_POST['issueId']);
                                                                $issue_store->project_mst_id = $_POST['projectOpt'];
                                                                $issue_store->issue_description = $_POST['issueDescription'];
                                                                $issue_store->impact_duration = $_POST['impactDuration'];
                                                                $issue_store->severity_level_id = $_POST['severityLevelOpt'];
                                                                $issue_store->frequency_level_id = $_POST['frequencyLevelOpt'];
                                                                $issue_store->activity_id = $_POST['activityOpt'];
                                                                $issue_store->phase_id = $_POST['phaseOpt'];
                                                                $issue_store->issue_type_id = $_POST['issueTypeOpt'];
                                                                $issue_store->stakeholder = json_encode($_POST['stakeholderOpt']);
                                                                $issue_store->planning_solve_issue_date = date('Y-m-d', strtotime($_POST['planningSolveIssueDate']));
                                                                $issue_store->case_issue_date = date('Y-m-d', strtotime($_POST['caseIssueDate']));
                                                                
                                                                if ($issue_store->save()) {
                                                                    
                                                                    $this->res = array(
                                                                        'status' => 200,
                                                                        'message' => 'Data berhasil disimpan.',
                                                                        'data' => $this->data
                                                                    );
                                                                    
                                                                } else {
                                                                    
                                                                    $this->res = array(
                                                                        'status' => 404,
                                                                        'message' => 'Data gagal disimpan.',
                                                                        'data' => $this->data
                                                                    );
                                                    
                                                                }

                                                          
                                                            
                                                        } catch (Exception $e) {
                                                            
                                                            $this->res = array(
                                                                'status' => 500,
                                                                'message' => $e->getMessage()
                                                            );

                                                        }

                                                        return $this->res;

                                                    }

                                                    private function delete_issue()
                                                    {

                                                        $issue_del = IssueMst::find($_POST['id']);
                                                        $issue_del->delete();
                                                        $this->res = array("status" => true, "message" => "Data berhasil dihapus." );
                                                        
                                                        return  $this->res;
                                                    }



                                                    private function phase_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = PhaseMst::where('phase_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->phase_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        

                                                    }

                                                    private function issue_type_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = IssueTypeMst::where('issue_type_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->issue_type_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        

                                                    }

                                                    private function province_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = ProvinceMst::where('province_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->province_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        

                                                    }


                                                    private function activity_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = ActivityMst::where('activity_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->activity_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        

                                                    }

                                                    private function stakeholder_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = PjpMst::where('pjp_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->pjp_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        

                                                    }

                                                    private function project_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = ProjectMst::where('project_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->project_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        
                                                    }


                                                    private function frequency_level_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = FrequencyLevelMst::where('frequency_level_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->frequency_level_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        
                                                    }

                                                    private function severity_level_option()
                                                    {

                                                        if (isset($_GET['q'])) {
                                                            
                                                            if ($_GET['q'] == '') {
                                                                $oprt = '!=';
                                                                $value = '';
                                                            } else {
                                                                $oprt = 'like';
                                                                $value = '%' . $_GET['q'] . '%';
                                                            }

                                                        } else {
                                                            $oprt = '!=';
                                                            $value = '';
                                                        }

                                                        $get_data = SeverityLevelMst::where('severity_level_name', $oprt, $value)
                                                                        ->orderBy('id', 'asc')
                                                                        ->get();

                                                        foreach ($get_data as $key => $value) {
                                                            
                                                            $this->data[$key]['id'] = $value->id;
                                                            $this->data[$key]['text'] = $value->severity_level_name;

                                                        }

                                                        if ( count($this->data) > 0 ) {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => true,
                                                                "message" => "Success"
                                                            );

                                                        } else {
                                                            
                                                            return $this->res = array(
                                                                "data" => $this->data,
                                                                "status" => false,
                                                                "message" => "Error"
                                                            );

                                                        }
                                                        
                                                    }

                                                }


                                         </p>

                                         <p> Untuk melihat ataupun mengedit untuk bagian model ada di dalam folder</p>
                                         <p> Application -> Modules -> Project -> Models -> Issue_model.php </p>
                                         <p> Didalam model ini menjelaskkan untuk bagian menu isu yang berisi tentang model yang digunakan 
                                         <p> untuk model di atas digunakan untuk function Issue_model.php </p>  


                                         

                                       
                                                                                                          
                                                                                                            </div>
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                        
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                        
                                    </div>
                                </div>
                            </div>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_3"> Contoh View Dari Menu Isu - <a href="#top">#back to top</a></h4>
                                <pre class="brush: html">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                    

                                            

                                      <div class="content-wrapper">
                                         Content Header (Page header) 
                                        <section class="content-header">
                                          <h1>
                                            Proyek
                                             <small>Proyek</small> 
                                          </h1>
                                          <ol class="breadcrumb">
                                            <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
                                            <li><a href="#">Proyek</a></li>
                                            <li class="active">Isu</li>
                                          </ol>
                                        </section>

                                        
                                        <section class="content">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="box">
                                                        <div class="box-header">
                                                            <div class="row">
                                                            
                                                                <div class="col-xs-4">
                                                                    <h3 class="box-title">Data Isu</h3>
                                                                </div>
                                                                <div class="col-xs-8">
                                                                    <button type="button" style="float:right;" class="btn bg-olive btn-flat" id="createIssue">Tambah</button>
                                                                </div>

                                                            </div>
                                                            <hr>
                                                            <div class="row">

                                                                <div class="col-xs-2">
                                                                    <div class="form-group">
                                                                        <select id="projectFilter" name="projectFilter" class="form-control" style="width: 100%" required></select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="form-group">
                                                                        <select id="phaseFilter" name="phaseFilter" class="form-control" style="width: 100%" required></select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="form-group">
                                                                        <select id="activityFilter" name="activityFilter" class="form-control" style="width: 100%" required></select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="form-group">
                                                                        <select id="stakeholderFilter" name="stakeholderFilter" class="form-control" style="width: 100%" required></select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="form-group">
                                                                        <button type="button" class="btn bg-blue btn-flat" id="issueFilter">Cari</button>
                                                                    </div>
                                                                </div>
                                                                
                                                            </div>
                                                            <hr>

                                                        </div>
                                                    
                                                        <div class="box-body table-responsive">
                                                            <table style="text-align:center;" id="issueList" class="table table-bordered table-hover table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="text-align:center; min-width: 80px !important;">Config</th>
                                                                        <th style="text-align:center;">No. PSN</th>
                                                                        <th style="text-align:center;">Isu</th>
                                                                        <th style="text-align:center;">Proyek</th>
                                                                        <th style="text-align:center;">Dampak</th>
                                                                        <th style="text-align:center;">Tgl. Terjadi</th>
                                                                        <th style="text-align:center;">Tgl. Penyelesaian</th>
                                                                        <th style="text-align:center;">Tingkat Keparahan</th>
                                                                        <th style="text-align:center;">Tingkat Frekuensi</th>
                                                                        <th style="text-align:center;">Stakeholder</th>
                                                                        <th style="text-align:center;">Jenis Isu</th>
                                                                    </tr>
                                                                </thead>
                                                                <tfoot>
                                                                    <tr>
                                                                        <th style="text-align:center;">Config</th>
                                                                        <th style="text-align:center;">No. PSN</th>
                                                                        <th style="text-align:center;">Isu</th>
                                                                        <th style="text-align:center;">Proyek</th>
                                                                        <th style="text-align:center;">Dampak</th>
                                                                        <th style="text-align:center;">Tgl. Terjadi</th>
                                                                        <th style="text-align:center;">Tgl. Penyelesaian</th>
                                                                        <th style="text-align:center;">Tingkat Keparahan</th>
                                                                        <th style="text-align:center;">Tingkat Frekuensi</th>
                                                                        <th style="text-align:center;">Stakeholder</th>
                                                                        <th style="text-align:center;">Jenis Isu</th>
                                                                    </tr>
                                                                </tfoot>
                                                            </table>
                                                        </div>
                                                    </div>
                                                   
                                                </div>
                                               
                                            </div>
                                          
                                        </section>
                                    </div>

                                    <div class="modal fade" id="openModalCreate">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <form id="issueForm">
                                                
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                        <h4 class="modal-title">Form Isu</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        
                                                        <div class="row">
                                                            
                                                            <div class="col-md-12">

                                                                <input type="hidden" id="issueId" name="issueId" class="form-control insert-issue" />
                                                                
                                                                <div class="form-group">
                                                                    <label>Proyek</label>
                                                                    <select id="projectOpt" name="projectOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Deskripsi Isu</label>
                                                                    <textarea name="issueDescription" id="issueDescription" class="form-control insert-issue validate" rows="3" placeholder="Deskripsi Isu"></textarea>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Jenis</label>
                                                                    <select id="issueTypeOpt" name="issueTypeOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Tanggal Terjadi Isu</label>
                                                                    <div class="input-group date">
                                                                        <div class="input-group-addon">
                                                                            <i class="fa fa-calendar"></i>
                                                                        </div>
                                                                        <input id="caseIssueDate" name="caseIssueDate" type="text" class="form-control pull-right insert-issue validate">
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Tanggal Rencana Penyelesaian</label>
                                                                    <div class="input-group date">
                                                                        <div class="input-group-addon">
                                                                            <i class="fa fa-calendar"></i>
                                                                        </div>
                                                                        <input id="planningSolveIssueDate" name="planningSolveIssueDate" type="text" class="form-control pull-right insert-issue validate">
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Dampak</label>
                                                                    <textarea name="impactDuration" id="impactDuration" class="form-control insert-issue validate" rows="3" placeholder="Dampak Terhadap Durasi Proyek"></textarea>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Tingkat Frekuensi Terjadinya Isu</label>
                                                                    <select id="frequencyLevelOpt" name="frequencyLevelOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Tingkat Keparahan Terjadinya Isu</label>
                                                                    <select id="severityLevelOpt" name="severityLevelOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Stakeholder</label>
                                                                    <select multiple="multiple" id="stakeholderOpt" name="stakeholderOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Fase</label>
                                                                    <select id="phaseOpt" name="phaseOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Aktivitas</label>
                                                                    <select id="activityOpt" name="activityOpt" class="form-control insert-issue validate" style="width: 100%" required>
                                                                    </select>
                                                                </div>

                                                            </div>
                                                            
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                                                        <button type="button" id="saveIssue" class="btn btn-primary btn-status"><i class=""></i>&nbsp;Save</button>
                                                    </div>
                                                </form>
                                            </div>
                                            
                                        </div>
                                        
                                    </div>


                                        <h1> Sourecode di atas menampilkan menu untuk Isu yang di inputkan di dalam projek yang akan di buat </h1>
                                        <p> Untuk masuk kedalam view isu adalah</p>
                                        <p> Application -> modules -> project - > views -> Issue_view.php </p>
                                        <p> Didalam menu ini dapat melihat dan mengedit menu isu untuk bagian tampilan menu ataupun form penambahan isu, didalam menu isu berupa : </p>
                                        <li>project</li>
                                        <li>Deskripsi Isu</li>
                                        <li>Jenis</li>
                                        <li>Tanggal Terjadi Isu</li>
                                        <li>Tanggal Rencana Penyelesaian</li>
                                        <li>Dampak</li>
                                        <li>Tingkat Frekuensi Terjadinya Isu</li>
                                        <li>Tingkat Keparahan Terjadinya Isu</li>
                                        <li>Stakeholder</li>
                                        <li>Fase</li>
                                        <li>Aktivitas</li>
                                        





                                    </div></div></div></pre>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a ></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_4"> Contoh Javascript Dari Menu Isu <a href="#top">#back to top</a></h4>
                                 
                        
                                        var formId = false;
                                        dataIn = '';
                                        tableOut = '';

                                        $(document).ajaxStart(function () {
                                            Pace.restart()
                                        });

                                        $(document).ready(function () {

                                            //Date picker
                                            $('#planningSolveIssueDate').datepicker({
                                                autoclose: true
                                            })

                                            $('#caseIssueDate').datepicker({
                                                autoclose: true
                                            });

                                            $("#projectFilter").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/project_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Proyek',
                                            });

                                            $("#issueTypeOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/issue_type_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Jenis Isu',
                                            });


                                            $("#stakeholderFilter").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/stakeholder_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Stakeholder',
                                            });

                                            $("#phaseFilter").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/phase_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Fase',
                                            });

                                            $("#activityFilter").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/activity_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Aktivitas',
                                            });

                                            $("#phaseOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/phase_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Fase',
                                            });

                                            $("#activityOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/activity_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Aktivitas',
                                            });

                                            $("#projectOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/project_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Proyek',
                                            });

                                            $("#frequencyLevelOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/frequency_level_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Frekuensi',
                                            }); 

                                            $("#severityLevelOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/severity_level_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Tingkat Keparahan',
                                            });
                                            

                                            $("#stakeholderOpt").select2({
                                                ajax: {
                                                    url: current_url + "/ajax/stakeholder_option",
                                                    dataType: 'json',
                                                    delay: 250,
                                                    data: function (params) {
                                                        return {
                                                            q: params.term, // search term
                                                        };
                                                    },
                                                    processResults: function (data) {
                                                        return {
                                                            results: data.data
                                                        };
                                                    },
                                                    cache: true
                                                },
                                                placeholder: 'Stakeholder',
                                            }); 


                                            var issueList = {
                                                id: 'issueList',
                                                column: [
                                                    {
                                                        "data": "action",
                                                        "orderable": false
                                                    },
                                                    {
                                                        "data": "external_code",
                                                        "orderable": false,
                                                        "className": "text-left"
                                                    },
                                                    {
                                                        "data": "issue_description",
                                                        "orderable": false,
                                                        "className": "text-left"
                                                    },
                                                    {
                                                        "data": "project_name",
                                                        "orderable": false
                                                    },
                                                    {
                                                        "data": "impact_duration",
                                                        "orderable": false,
                                                        "className": "text-left"
                                                    },
                                                    {
                                                        "data": "case_issue_date",
                                                        "orderable": false,
                                                        "render": function (data) {
                                                            var dateFormat = data.split('/');
                                                            return dateFormat[1] + '/' + dateFormat[0] + '/' + dateFormat[2];
                                                        }
                                                    },
                                                    {
                                                        "data": "planning_solve_issue_date",
                                                        "orderable": false,
                                                        "render": function (data) {
                                                            var dateFormat = data.split('/');
                                                            return dateFormat[1] + '/' + dateFormat[0] + '/' + dateFormat[2];
                                                        }
                                                    },
                                                    {
                                                        "data": "severity_level_issue",
                                                        "orderable": false
                                                    },
                                                    {
                                                        "data": "frequency_level_name",
                                                        "orderable": false
                                                    },
                                                    {
                                                        "data": "stakeholder_name",
                                                        "orderable": false,
                                                        "className": "text-left"
                                                    },
                                                    {
                                                        "data": "issue_type_name",
                                                        "orderable": false,
                                                        "className": "text-left"
                                                    },
                                                ],
                                                function: _gridAction,
                                                order: [[1, 'desc']],
                                                length: [10, 20, 30]
                                            }

                                            

                                            window.issueGrid = new grid(issueList);
                                            window.issueGrid.url = current_url + "/grid/issue_list";
                                            window.issueGrid.type = 'GET';
                                            window.issueGrid.init();

                                            var table = issueGrid.getTablesID();

                                           

                                        });

                                        $('#issueFilter').on('click', function () {

                                            window.issueGrid.data = {
                                                projectFt: $("#projectFilter").val(),
                                                phaseFt: $("#phaseFilter").val(),
                                                activityFt: $("#activityFilter").val(),
                                                stakeholderFt: $("#stakeholderFilter").val(),
                                            };

                                            window.issueGrid.table.draw();

                                        });


                                        $('#createIssue').on('click', function(){

                                            formId = false;

                                            $('#openModalCreate').modal('show');

                                            $('#issueId').val('');
                                            $('#issueDescription').val('');
                                            $('#caseIssueDate').val('');
                                            $('#planningSolveIssueDate').val('');
                                            $('#impactDuration').val('');

                                            $('[name="projectOpt"]').empty().trigger('change');
                                            $('[name="frequencyLevelOpt"]').empty().trigger('change');
                                            $('[name="severityLevelOpt"]').empty().trigger('change');
                                            $('[name="stakeholderOpt"]').empty().trigger('change');
                                            $('[name="issueTypeOpt"]').empty().trigger('change');
                                            $('[name="activityOpt"]').empty().trigger('change');
                                            $('[name="phaseOpt"]').empty().trigger('change');

                                        });

                                        var _gridAction = function () {

                                            $(".update-row").on("click", function () {

                                                $('#openModalCreate').modal('show');

                                                formId = true;

                                                var rowdata = window.issueGrid.table.row($(this).parents('tr')).data();

                                                $('#issueId').val(rowdata.id);
                                                $('#projectOpt').val('').trigger('change');
                                                $('#issueDescription').val(rowdata.issue_description);
                                                $('#caseIssueDate').val(rowdata.case_issue_date);
                                                $('#planningSolveIssueDate').val(rowdata.planning_solve_issue_date);
                                                $('#impactDuration').val(rowdata.impact_duration);
                                                $('#frequencyLevelOpt').val('').trigger('change');
                                                $('#severityLevelOpt').val('').trigger('change');
                                                $('#issueTypeOpt').val('').trigger('change');
                                                $('#stakeholderOpt').val('').trigger('change');
                                                $('#activityOpt').val('').trigger('change');
                                                $('#phaseOpt').val('').trigger('change');

                                                var selectedProjectOption = new Option(rowdata.project_name, rowdata.project_mst_id, true, true);
                                                $('[name="projectOpt"]').append(selectedProjectOption).trigger('change');

                                                var selectedFrequencyOption = new Option(rowdata.frequency_level_name, rowdata.frequency_level_id, true, true);
                                                $('[name="frequencyLevelOpt"]').append(selectedFrequencyOption).trigger('change');

                                                var selectedSeverityOption = new Option(rowdata.severity_level_name, rowdata.severity_level_id, true, true);
                                                $('[name="severityLevelOpt"]').append(selectedSeverityOption).trigger('change');

                                                var selectedPhaseOption = new Option(rowdata.phase_name, rowdata.phase_id, true, true);
                                                $('[name="phaseOpt"]').append(selectedPhaseOption).trigger('change');

                                                var selectedActivityOption = new Option(rowdata.activity_name, rowdata.activity_id, true, true);
                                                $('[name="activityOpt"]').append(selectedActivityOption).trigger('change');

                                                var selectedIssueTypeOption = new Option(rowdata.issue_type_name, rowdata.issue_type_id, true, true);
                                                $('[name="issueTypeOpt"]').append(selectedIssueTypeOption).trigger('change');


                                                $('[name="stakeholderOpt"]').empty().trigger('change');

                                                var selectedStakeholderOption = [];

                                                for (var key in rowdata.stakeholder_array) {
                                                    if (rowdata.stakeholder_array.hasOwnProperty(key)) {

                                                        selectedStakeholderOption = new Option(rowdata.stakeholder_array[key].name, rowdata.stakeholder_array[key].id, true, true);
                                                        $('[name="stakeholderOpt"]').append(selectedStakeholderOption).trigger('change');

                                                    }
                                                }

                                            });

                                            $(".delete-row").on("click", function () {

                                                formId = false;

                                                var rowdata = window.issueGrid.table.row($(this).parents('tr')).data();

                                                var myAjax = new ajax();
                                                myAjax.url = current_url + '/ajax/' + 'delete_issue';
                                                myAjax.async = false;
                                                myAjax.data = {
                                                    id: rowdata.id,
                                                };
                                                myAjax.callback = _actionCallback;
                                                myAjax.init();

                                            });

                                        }

                                        $('#saveIssue').on('click', function () {

                                            var stopProcessing = false;

                                            $($(this).parents('form')).find('.insert-issue').each(function (index, element) {
                                                
                                                if (( ($(this).val() == '') || ($(this).val() == null) ) && ($(this).hasClass("validate"))) {
                                                    
                                                    stopProcessing = true;
                                                
                                                }

                                            });

                                            if (stopProcessing) {

                                                alert('Field masih kosong. Perhatikan data anda!');
                                                return false;

                                            } else {

                                                var action_url = (formId == false) ? 'create_issue' : 'update_issue';

                                                _actionInsert($(this).parents('form'), 'Project/Issue/ajax/' + action_url, '.insert-issue');

                                            }

                                        });

                                        _actionInsert = function (element, url, class_identity) {

                                            var dataset = {};
                                            var i = 0;

                                            $(element).find(class_identity).each(function (index, element) {

                                                i++;
                                                var value = [];
                                                if ($(this).attr('name') !== undefined) {
                                                    var key = $(this).attr('name');
                                                    var ids = $(this).attr('ids');
                                                    if ($(this).attr('ids') !== undefined) {
                                                        if ($(this).attr("type") == "hidden") {
                                                            dataset[key] = $(this).val();
                                                        } else {
                                                            dataset[key] = $(this).val();
                                                        }
                                                    } else {
                                                        dataset[key] = $(this).val();
                                                    }
                                                }

                                            });

                                            
                                            _postToAJax(dataset, url);

                                        };

                                        _postToAJax = function (param, url) {

                                            $(".modal-footer button i").addClass('fa fa-spin fa-refresh');
                                            $(".modal-footer button").prop("disabled", true);

                                            var myAjax = new ajax();
                                            myAjax.url = base_url + url;
                                            myAjax.async = false;
                                            myAjax.data = param;
                                            myAjax.timeout = 10000;
                                            myAjax.callback = _actionCallback;
                                            myAjax.init();

                                        };

                                        _actionCallback = function (data, status, xhr) {
                                            var data = JSON.parse(data);
                                            if (xhr.status == 200) {
                                                if (data.status == 200) {

                                                    alert(data.message);

                                                    $('#openModalCreate').modal('hide');

                                                    window.issueGrid.table.draw();
                                                    $('#issueForm')[0].reset();

                                                    $(".modal-footer button i").removeClass('fa fa-spin fa-refresh');
                                                   $(".modal-footer button").prop("disabled", false);

                                                } else if (data.status == 500) {
                                                    
                                                    alert(data.message);

                                                    $(".modal-footer button i").removeClass('fa fa-spin fa-refresh');
                                                    $(".modal-footer button").prop("disabled", false);

                                                } else {
                                                    
                                                    alert(data.message);
                                                    
                                                    window.issueGrid.table.draw();

                                                    $(".modal-footer button i").removeClass('fa fa-spin fa-refresh');
                                                    $(".modal-footer button").prop("disabled", false);
                                                
                                                }
                                            } else {
                                                alert((data.message == "" ? "Check your input" : data.message));
                                                
                                                $(".modal-footer button i").removeClass('fa fa-spin fa-refresh');
                                                $(".modal-footer button").prop("disabled", false);
                                            }
                                        };

                                        <P> Pada Sourcode di atas menampilkan issue.js dimana kita dapat mengedit menu ini di folder</P>
                                        <p> Asset -> Modules -> Project -> issue.Js</p>



                                    </div></div></div></pre>


                        
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_5"> Contoh Struktur Database dari "proyek" - <a href="#top">#back to top</a></h4>
                               
                                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                                        <p> Untuk Struktur database yang digunakan di dalam Aplikasi Sistem Pemantauan Proyek Strategis Nasional Berbasis Open Source  :</p>
                                        
                                        <ul>
                                            <li> Id = type int = AI No/None</li>
                                            <li> external_code = type Varchar (200) latin1_swedish_ci Yes/Null</li>
                                            <li>project_name = varchar (200) latin1_swedish_ci Yes/Null</li>
                                            <li>project_mst_id = int (11) No/None</li>
                                            <li>sector_id = int (11) No/None</li>
                                            <li>province_id = int (11) No/None</li>
                                            <li>island_id = int (11)</li>
                                            <li>fund_indication_id = varchar (50) latin1_swedish_ci </li>
                                            <li>currency = varchar (200) latin1_swedish_ci Yes/Null</li>
                                            <li>total_fund = vanchar (200) latin1_swedish_ci  Yes/Null</li>
                                            <li> contact_person = varchar (250) latin1_swedish_ci Yes/Null</li>
                                            <li>output = varchar (200) latin1_swedish_ci Yes/Null </li>
                                            <li>unit_id = int (11) No/None</li>
                                            <li>pjp_id = int (11) No/None</li>
                                            <li>total_fund_apbnd = varchar (150) latin1_swedish_ci  Yes/Null</li>
                                            <li>total_fund_bumnd = varchar (150) latin1_swedish_ci Yes/Null</li>
                                            <li>total_fund_swasta = varchar latin1_swedish_ci Yes/Null</li>
                                            <li>description = longtext latin1_swedish_ciYes/Null</li>
                                            <li>status = longtext latin1_swedish_ci Yes/Null</li>
                                            <li>status_code_id = int (11) No/None</li>
                                            <li>start_date = date No/None</li>
                                            <li>transaction_date = date No/None</li>
                                            <li>contruction_date = date No/None</li>
                                            <li>operation_date = date No/None</li>
                                            <li>end_date = date No/None</li>

                                        </ul>
                                        <p> Struktur database di atas adalah struktur database yang digunakan untuk sistem Aplikasi Sistem Pemantauan Proyek Strategis Nasional </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            

                        
                    </section>
                    <!-- end section -->

                    <section id="line11" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Seluruh Source Code, database dan dokumentasi ini adalah milik KPPIP<a href="#top">#back to top</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                
                                <p></p>                        
                               
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->
                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

</body>

</html>
